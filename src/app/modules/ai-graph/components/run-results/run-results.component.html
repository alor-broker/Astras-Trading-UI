<ng-container *transloco="let t; scope: 'ai-graph/run-results'">
  <div class="show-scroll h-100">
    @let currentStatus = runStatus();
    @if(currentStatus == null || currentStatus.status === Statuses.Initial) {
      <nz-empty nzNotFoundImage="simple" [nzNotFoundContent]="t('aiGraphRunResults.runGraphMessage')"></nz-empty>
    } @else {
      @if (currentStatus.status === Statuses.Error) {
        <nz-empty nzNotFoundImage="simple" [nzNotFoundContent]="t('aiGraphRunResults.graphRunErrorMessage')"></nz-empty>
      }

      @if (currentStatus.status === Statuses.Loading) {
        <nz-empty nzNotFoundImage="simple" [nzNotFoundContent]="t('aiGraphRunResults.loadingMessage')"></nz-empty>
      }

      @if (currentStatus.status === Statuses.Success) {
        @for (resultItem of currentStatus.results; track $index) {
          <h3>{{ resultItem.source }}:</h3>
          @if (resultItem.format === Formats.Markdown) {
            <markdown>
              {{ resultItem.result }}
            </markdown>
          }
        } @empty {
          <nz-empty nzNotFoundImage="simple"
                    [nzNotFoundContent]="t('aiGraphRunResults.noResultsToDisplayMessage')"></nz-empty>
        }
      }
    }
  </div>
</ng-container>

