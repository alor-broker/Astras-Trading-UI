<ng-container *ngrxLet="settings$ as settings">
  <div class="d-flex flex-column flex-gap-25">
    <ats-ribbon layout="2row" [showScrollButtons]="false"></ats-ribbon>

    <ats-portfolio-evaluation (openDetails)="openPortfolioDetails()"></ats-portfolio-evaluation>

    <ats-positions (instrumentSelected)="openChart($event)"></ats-positions>

    @if (settings.showPortfolioDynamics ?? true) {
      <ats-portfolio-dynamics></ats-portfolio-dynamics>
    }

    <ats-market-trends
      [ignoredBoardsFilter]="settings.ignoreTrendsForBoards ?? ['FQBR']"
      [marketFilter]="settings.displayTrendsForMarket ?? [Market.Fond]"
      (instrumentSelected)="openChart($event)"
    ></ats-market-trends>
  </div>
</ng-container>
