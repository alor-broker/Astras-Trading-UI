@import "theme-mixin";

.themeMixin({
  :host {
    .ant-layout {
      @end-color: fade(@body-background, 5%);
      background: @mobile-background-gradient;

      ::ng-deep {
        .ant-layout-header {
          background-color: @mobile-layout-header-background;
        }

        .content {
          color: @text-color;

          .ant-table {
            background: transparent;

            .ant-table-thead > tr > th {
              background: @mobile-body-background-gradient-middle;
            }
          }
        }
      }
    }
  }
});

nz-layout {
  height: 100%;
}

nz-layout.mobile-layout {
  /* Use dynamic viewport height for iOS to account for browser chrome */
  height: 100vh;
  height: 100dvh;
  /* Handle iOS safe areas */
  padding-top: constant(safe-area-inset-top); /* iOS 11.0-11.2 */
  padding-top: env(safe-area-inset-top); /* iOS 11.2+ */
  padding-bottom: constant(safe-area-inset-bottom);
  padding-bottom: env(safe-area-inset-bottom);
  padding-left: constant(safe-area-inset-left);
  padding-left: env(safe-area-inset-left);
  padding-right: constant(safe-area-inset-right);
  padding-right: env(safe-area-inset-right);
  box-sizing: border-box;
}

:host ::ng-deep {
  ats-widget-header {
    .title-icon,
    .close-btn,
    .link-to-active-btn {
      display: none;
    }

    .buttons-group {
      .ant-btn, .anticon {
        font-size: 16px;
      }
    }
  }

  ats-widget-header-instrument-switch {
    pointer-events: none;

    .search-btn {
      display: none;
    }
  }

  .title-text {
    font-size: 15px;
    padding-left: 0 !important;
  }

  .content-wrapper {
    height: 100%;

    .fixed-height {
      flex: 0;
    }

    .instruments-history {
      width: 100%;
    }

    .content {
      flex: 1;
      overflow: hidden;

      ats-mobile-footer {
        height: 100%;
        display: block;
      }
    }
  }
}

::ng-deep {
  .ant-modal {
    &.full-screen {
      position: absolute;
      top: 50px;
      bottom: 50px;
      left: 0;
      right: 0;

      max-width: 100%;
      margin: 0;
      padding: 0;

      .ant-modal-content {
        height: 100%;
        display: flex;
        flex-direction: column;

        .ant-modal-body {
          flex: 1 1 auto;
          padding-top: 0;
          max-height: 100%;
        }
      }
    }
  }
}


